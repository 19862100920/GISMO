<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of disp</title>
  <meta name="keywords" content="disp">
  <meta name="description" content="DISP Waveform disp overloaded operator">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">gismotools</a> &gt; <a href="../../index.html">GISMO</a> &gt; <a href="../index.html">classes</a> &gt; <a href="index.html">@waveform</a> &gt; disp.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for gismotools/GISMO/classes/@waveform&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>disp
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>DISP Waveform disp overloaded operator</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function disp(w) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">DISP Waveform disp overloaded operator</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="disp.html" class="code" title="function disp(w)">disp</a>	DISP Waveform disp overloaded operator</li><li><a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>	GET Get waveform properties</li><li><a href="isempty.html" class="code" title="function TF = isempty(w)">isempty</a>	ISEMPTY returns TRUE if waveform contains no data</li><li><a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>	MIN    Largest value of a waveform.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="clip.html" class="code" title="function w = clip(w, vals)">clip</a>	CLIP clips a waveform's data at a particular max/min value range</li><li><a href="disp.html" class="code" title="function disp(w)">disp</a>	DISP Waveform disp overloaded operator</li><li><a href="display.html" class="code" title="function display(w)">display</a>	DISPLAY Waveform Display overloaded operator</li><li><a href="resample.html" class="code" title="function w = resample(w,method, val)">resample</a>	RESAMPLE resamples a waveform at over every specified interval</li><li><a href="savesac.html" class="code" title="function w = savesac(w, direc, fname)">savesac</a>	SAVESAC  creates a SAC file from a waveform</li><li><a href="waveform.html" class="code" title="function w = waveform(varargin)">waveform</a>	WAVEFORM Waveform Class constructor</li><li><a href="waveform2sound.html" class="code" title="function isSuccessful = waveform2sound(w, outfile, speedup)">waveform2sound</a>	WAVEFORM2SOUND generate a wav file from the existing waveform</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function DispStr = size2str(sizeval)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function disp(w)</a>
0002    <span class="comment">%DISP Waveform disp overloaded operator</span>
0003    
0004    
0005    <span class="comment">% AUTHOR: Celso Reyes, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0006    <span class="comment">% $Date$</span>
0007    <span class="comment">% $Revision$</span>
0008    
0009    <span class="keyword">if</span> numel(w) &gt; 1;
0010       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">' '</span>);
0011       fprintf(<span class="string">'[%s] %s object with fields:\n'</span>, <a href="#_sub1" class="code" title="subfunction DispStr = size2str(sizeval)">size2str</a>(size(w)), class(w));
0012       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     channeltag'</span>);
0013       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     start'</span>);
0014       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     freq'</span>);
0015       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     data'</span>);
0016       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     units'</span>);
0017       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'     history'</span>);
0018       
0019       <span class="comment">% handle miscelleneous fields</span>
0020       a = <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w(1),<span class="string">'misc_fields'</span>);
0021       <span class="keyword">for</span> n=2:length(w);
0022          a = intersect(a,<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w(n),<span class="string">'misc_fields'</span>));
0023       <span class="keyword">end</span>
0024       <span class="keyword">if</span> <a href="isempty.html" class="code" title="function TF = isempty(w)">isempty</a>(a) <span class="comment">%no fields in common</span>
0025          <span class="keyword">if</span> ~<a href="isempty.html" class="code" title="function TF = isempty(w)">isempty</a>(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'misc_fields'</span>))
0026             <span class="comment">% no fields in common, but fields exist</span>
0027             <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'    With dissimilar fields'</span>);
0028          <span class="keyword">end</span>
0029       <span class="keyword">else</span>
0030          <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'   with common fields...'</span>)
0031          <a href="disp.html" class="code" title="function disp(w)">disp</a>(a')
0032       <span class="keyword">end</span>
0033       
0034    <span class="keyword">elseif</span> numel(w) == 0
0035       <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'  no waveform'</span>);
0036       
0037    <span class="keyword">else</span> <span class="comment">%single waveform</span>
0038       <span class="keyword">if</span> <a href="isempty.html" class="code" title="function TF = isempty(w)">isempty</a>(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'station'</span>)) | <span class="keyword">...</span>
0039             <a href="isempty.html" class="code" title="function TF = isempty(w)">isempty</a>(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'channel'</span>)) | <span class="keyword">...</span>
0040             isnan(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'Fs'</span>)) | <span class="keyword">...</span>
0041             <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'data_length'</span>)==0;
0042          <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'  (incomplete or empty waveform)'</span>);
0043       <span class="keyword">end</span>
0044       fprintf(<span class="string">' channeltag: %-15s   [network.station.location.channel]\n'</span>, w.cha_tag.string);
0045       fprintf(<span class="string">'      start: %s\n'</span>,<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'start_str'</span>));
0046       fprintf(<span class="string">'             duration(%s)\n'</span> , <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'duration_str'</span>));
0047       fprintf(<span class="string">'       data: %d samples\n'</span>, numel(w.data));
0048       fprintf(<span class="string">'       freq: %-10.4f Hz\n'</span>,<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'freq'</span>));
0049       fprintf(<span class="string">'      units: %s\n'</span>,<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'units'</span>));
0050       historycount =  size(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'history'</span>));
0051       <span class="keyword">if</span> historycount == 1
0052          plural=<span class="string">''</span>;
0053       <span class="keyword">else</span>
0054          plural = <span class="string">'s'</span>;
0055       <span class="keyword">end</span>
0056       fprintf(<span class="string">'    history: [%d item%s], last modification: %s\n'</span>,<span class="keyword">...</span>
0057          historycount(1), plural, datestr(<a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>([w.history{:,2}])));
0058       <span class="keyword">if</span> numel(<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'misc_fields'</span>)) &gt; 0,
0059          <a href="disp.html" class="code" title="function disp(w)">disp</a>(<span class="string">'    With misc fields...'</span>);
0060       <span class="keyword">end</span>;
0061       <span class="keyword">for</span> n= <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'misc_fields'</span>)
0062          val = <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,n{1}); <span class="comment">%grab value associated with this misc_field</span>
0063          displayIF = (isnumeric(val) || islogical(val)) &amp;&amp; (numel(val)&lt;=6);
0064          displayIF = displayIF || ischar(val);
0065          
0066          <span class="keyword">if</span> strcmp(n{1},<span class="string">'HISTORY'</span>), <span class="comment">%special case!</span>
0067             historycount =  size(val,1);
0068             <span class="keyword">if</span> historycount == 1, plural=<span class="string">''</span>; <span class="keyword">else</span>, plural = <span class="string">'s'</span>; <span class="keyword">end</span>
0069             fprintf(<span class="string">'    * HISTORY: [%d item%s], last modification: %s\n'</span>,<span class="keyword">...</span>
0070                historycount, plural, datestr(<a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>([val{:,2}])));
0071          <span class="keyword">else</span>
0072             <span class="keyword">if</span> ~displayIF
0073                <span class="comment">%must be some sort of object or multiple-value field</span>
0074                fprintf(<span class="string">'    * %s: '</span>,n{1});
0075                fprintf(<span class="string">'[%s] %s object\n'</span>,<span class="keyword">...</span>
0076                   <a href="#_sub1" class="code" title="subfunction DispStr = size2str(sizeval)">size2str</a>(size(val)), class(val) );
0077             <span class="keyword">else</span>
0078                fprintf(<span class="string">'    * %s: '</span>,n{1});
0079                <span class="keyword">if</span> ischar(val)
0080                   fprintf(<span class="string">'%s'</span>,val);
0081                <span class="keyword">else</span>
0082                   fprintf(<span class="string">'%s'</span>,num2str(val));
0083                <span class="keyword">end</span>
0084                fprintf(<span class="string">'\n'</span>);
0085             <span class="keyword">end</span>
0086          <span class="keyword">end</span>
0087          
0088       <span class="keyword">end</span>
0089    <span class="keyword">end</span>
0090 <span class="keyword">end</span>
0091 
0092 <a name="_sub1" href="#_subfunctions" class="code">function DispStr = size2str(sizeval)</a>
0093    <span class="comment">% helper function that changes the way we view the size</span>
0094    <span class="comment">%   from : [1 43 2 6] (numeric)  to  '1x43x2x6' (char)</span>
0095    
0096    DispStr = sprintf(<span class="string">'x%d'</span>, sizeval);
0097    DispStr = DispStr(2:end);
0098 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 11-Oct-2015 14:40:09 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>