<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of create_demo_data</title>
  <meta name="keywords" content="create_demo_data">
  <meta name="description" content="This script was used once to create the demo dataset">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../../index.html">Home</a> &gt;  <a href="#">gismotools</a> &gt; <a href="../../../index.html">GISMO</a> &gt; <a href="../../index.html">classes</a> &gt; <a href="../index.html">@threecomp</a> &gt; <a href="index.html">private</a> &gt; create_demo_data.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../../index.html"><img alt="<" border="0" src="../../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for gismotools/GISMO/classes/@threecomp/private&nbsp;<img alt=">" border="0" src="../../../../../right.png"></a></td></tr></table>-->

<h1>create_demo_data
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="box"><strong>This script was used once to create the demo dataset</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> This script was used once to create the demo dataset
 private/demo_waveforms.m. It has no further use and is kept only as
 sample. The originla dataset was California earthquake data in SAC files
 provided by Carl Tape. Original source unknown.

 To be run from within private directory. At the time demo data was
 created, a directory sample_data was in private/ as well.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% This script was used once to create the demo dataset</span>
0002 <span class="comment">% private/demo_waveforms.m. It has no further use and is kept only as</span>
0003 <span class="comment">% sample. The originla dataset was California earthquake data in SAC files</span>
0004 <span class="comment">% provided by Carl Tape. Original source unknown.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% To be run from within private directory. At the time demo data was</span>
0007 <span class="comment">% created, a directory sample_data was in private/ as well.</span>
0008 
0009 
0010 
0011 <span class="comment">% clear</span>
0012 <span class="comment">% clear classes</span>
0013 <span class="comment">% rmgismo</span>
0014 <span class="comment">% addpath('/home/field/GISMO_BRANCH/GISMO/');</span>
0015 <span class="comment">% startup_GISMO</span>
0016 
0017 
0018 <span class="comment">% LOAD DATA</span>
0019 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHZ.*'</span>));
0020 filesZ = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0021 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHN.*'</span>));
0022 filesN = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0023 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHE.*'</span>));
0024 filesE = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0025 files = [filesZ filesN filesE];
0026 w = loadsacfile(files);
0027 <span class="comment">%save junk</span>
0028 
0029 
0030 <span class="comment">% TRIM SIZE</span>
0031 w = w([36 19 20 4 21 9 18 10 17 11 8 5 14 26],:);
0032 
0033 
0034 <span class="comment">% ADJUST FIELDS</span>
0035 backAzimuth = get(w(:,1),<span class="string">'BAZ'</span>);
0036 <span class="keyword">for</span> n = 1:numel(w)
0037      w(n) = addfield( w(n) , <span class="string">'stationLatitude'</span> , get(w(n), <span class="string">'STLA'</span>) ); 
0038      w(n) = addfield( w(n) , <span class="string">'stationLongitude'</span> , get(w(n), <span class="string">'STLO'</span>) ); 
0039      w(n) = addfield( w(n) , <span class="string">'originLatitude'</span> , get(w(n), <span class="string">'EVLA'</span>) ); 
0040      w(n) = addfield( w(n) , <span class="string">'originLongitude'</span> , get(w(n), <span class="string">'EVLO'</span>) );
0041     channel = get(w(n), <span class="string">'CHANNEL'</span>);
0042     w(n) = set( w(n) , <span class="string">'CHANNEL'</span> , channel(1:3) );
0043     network = get(w(n), <span class="string">'NETWORK'</span>);
0044     w(n) = set( w(n) , <span class="string">'NETWORK'</span> , network(1:2) );
0045 <span class="keyword">end</span>
0046 w = delfield(w,<span class="string">'AZ'</span>);
0047 w = delfield(w,<span class="string">'BAZ'</span>);
0048 w = delfield(w,<span class="string">'CMPAZ'</span>);
0049 w = delfield(w,<span class="string">'CMPINC'</span>);
0050 w = delfield(w,<span class="string">'DIST'</span>);
0051 w = delfield(w,<span class="string">'EVDP'</span>);
0052 w = delfield(w,<span class="string">'GCARC'</span>);
0053 w = delfield(w,<span class="string">'HISTORY'</span>);
0054 w = delfield(w,<span class="string">'IFTYPE'</span>);
0055 w = delfield(w,<span class="string">'IZTYPE'</span>);
0056 w = delfield(w,<span class="string">'KEVNM'</span>);
0057 w = delfield(w,<span class="string">'KT1'</span>);
0058 w = delfield(w, <span class="string">'KT2'</span>);
0059 w = delfield(w,<span class="string">'KUSER0'</span>);
0060 w = delfield(w,<span class="string">'LCALDA'</span>);
0061 w = delfield(w,<span class="string">'LOVROK'</span>);
0062 w = delfield(w,<span class="string">'LPSPOL'</span>);
0063 w = delfield(w,<span class="string">'NZHOUR'</span>);
0064 w = delfield(w,<span class="string">'NZJDAY'</span>);
0065 w = delfield(w,<span class="string">'NZMIN'</span>);
0066 w = delfield(w,<span class="string">'NZMSEC'</span>);
0067 w = delfield(w,<span class="string">'NZSEC'</span>);
0068 w = delfield(w,<span class="string">'NZYEAR'</span>);
0069 w = delfield(w,<span class="string">'O'</span>);
0070 w = delfield(w,<span class="string">'SCALE'</span>);
0071 w = delfield(w,<span class="string">'STDP'</span>);
0072 w = delfield(w,<span class="string">'STEL'</span>);
0073 w = delfield(w,<span class="string">'T1'</span>);
0074 w = delfield(w,<span class="string">'T2'</span>);
0075 w = delfield(w,<span class="string">'STLA'</span>);
0076 w = delfield(w,<span class="string">'STLO'</span>);
0077 w = delfield(w,<span class="string">'EVLA'</span>);
0078 w = delfield(w,<span class="string">'EVLO'</span>);
0079 
0080 
0081 <span class="comment">% PLOT LOCATIONS</span>
0082 figure;
0083 plot( get(w(:,1),<span class="string">'STATIONLONGITUDE'</span>) , get(w(:,1),<span class="string">'STATIONLATITUDE'</span>) , <span class="string">'b+'</span>);
0084 hold on;
0085 plot( get(w(:,1),<span class="string">'ORIGINLONGITUDE'</span>) , get(w(:,1),<span class="string">'ORIGINLATITUDE'</span>) , <span class="string">'ro'</span>);
0086 set(gca,<span class="string">'DataAspectRatio'</span>,[1 cosd(35) 1]);
0087 <span class="keyword">for</span> n=1:length(backAzimuth)
0088    text( get(w(n,1),<span class="string">'STATIONLONGITUDE'</span>) , get(w(n,1),<span class="string">'STATIONLATITUDE'</span>) , num2str(n) );
0089 <span class="keyword">end</span>
0090 
0091 
0092 <span class="comment">% SAVE DEMO DATA</span>
0093 save(<span class="string">'demo_waveforms.mat'</span>,<span class="string">'w'</span>,<span class="string">'backAzimuth'</span>);
0094 
0095 
0096</pre></div>
<hr><address>Generated on Sun 11-Oct-2015 14:40:09 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>