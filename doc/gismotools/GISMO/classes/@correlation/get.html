<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of get</title>
  <meta name="keywords" content="get">
  <meta name="description" content="GET - Get correlation properties">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">gismotools</a> &gt; <a href="../../index.html">GISMO</a> &gt; <a href="../index.html">classes</a> &gt; <a href="index.html">@correlation</a> &gt; get.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for gismotools/GISMO/classes/@correlation&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>get
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>GET - Get correlation properties</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function val = get(c,prop_name) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> GET - Get correlation properties

 VAL = get(C,PROP_NAME)
 See HELP CORRELATION for description of primary property names:
   Waveforms, Trig, Corr, Lag, Stat, Link, Clust
   
 Additional scalar properties:
   Traces:         number of traces
   Data_Length:    number of samples in each trace
   Fs:             Frequency
   Period:         Period
   Nyq:            Nyquist frequency
   **NOTE - The scalar properties listed above exist for each waveform
   (except Traces). However, the correlation object requires them to be
   the same. GET only reads the value associated with the first waveform 
   Normally this will not be an issue. If the correlation object
   was created manually it is possible for these fields to be different.

 Additional vector properties (nx1):
   Start, Trig, End:             same as Start_Matlab, End_Matlab
   Start_Str, Trig_Str, End_Str:           String times
   Start_Matlab, Trig_Matlab, End_Matlab:  Matlab-format times
   Start_Epoch, Trig_Epoch, End_Epoch:     Epoch-format times

 Additional vector properties (nx1 cell vector)
   Sta (or Station):       Cell vector of station names
   Chan (or Component):    Cell vector of channel names

 Additional matrix properties (nxm matrix)
   Data:                    Matrix of raw trace data
                           (n traces) x (m samples)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="DEP_xcorr.html" class="code" title="function c=xcorr(c,varargin)">DEP_xcorr</a>	C = XCORR(C)</li><li><a href="adjusttrig.html" class="code" title="function c = adjusttrig(c,varargin)">adjusttrig</a>	ADJUSTTRIG adjusts the trigger times of each trace</li><li><a href="agc.html" class="code" title="function c = agc(c,varargin)">agc</a>	This function applies automatic gain control (AGC) to each trace. This</li><li><a href="align.html" class="code" title="function c = align(c,varargin)">align</a>	c = ALIGN(c)</li><li><a href="butter.html" class="code" title="function c = butter(c,varargin)">butter</a>	C = BUTTER(C,[TYPE],CUTOFF,[POLES])</li><li><a href="cat.html" class="code" title="function c = cat(varargin)">cat</a>	c = cat(c1,c2,c3,...)</li><li><a href="check.html" class="code" title="function val = check(c,varargin)">check</a>	Check various features of a correlation object.</li><li><a href="cluster.html" class="code" title="function c=cluster(c,varargin)">cluster</a>	c = CLUSTER(c,CUTOFF) cuts the "branches" of the linkage tree to create</li><li><a href="conv.html" class="code" title="function c = conv(c,varargin)">conv</a>	c = CONV(c) convolves all traces with the final trace. By default the new</li><li><a href="correlation.html" class="code" title="function c = correlation(varargin)">correlation</a>	</li><li><a href="crop.html" class="code" title="function c = crop(c,varargin)">crop</a>	c = CROP(c,[PRETRIG POSTTRIG])</li><li><a href="deconv.html" class="code" title="function c = deconv(c,varargin)">deconv</a>	c = DECONV(c) convolves all traces with the final trace. By default the new</li><li><a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li><li><a href="getclusterstat.html" class="code" title="function family=getclusterstat(c)">getclusterstat</a>	GETCLUSTERSTAT gets detais of individual correlation clusters.</li><li><a href="getstat.html" class="code" title="function c=getstat(c)">getstat</a>	c = GETSTAT(c)</li><li><a href="interferogram.html" class="code" title="function [c,t,i,CC,LL] = interferogram(c,varargin)">interferogram</a>	C = INTERFEROGRAM(C)</li><li><a href="linkage.html" class="code" title="function c = linkage(c,varargin);">linkage</a>	c = LINKAGE(c) Creates a hierarchical cluster tree for all waveforms in</li><li><a href="match.html" class="code" title="function [c1,c2] = match(c1,c2,varargin)">match</a>	Retain matching elements of two correlation objects.</li><li><a href="minus.html" class="code" title="function c = minus(c,varargin)">minus</a>	C = MINUS(C,I)</li><li><a href="norm.html" class="code" title="function c = norm(c,varargin)">norm</a>	C = NORM(C)</li><li><a href="stack.html" class="code" title="function c = stack(c,varargin)">stack</a>	c = STACK(c)</li><li><a href="verify.html" class="code" title="function c = verify(c)">verify</a>	VERIFY</li><li><a href="writedb.html" class="code" title="function writedb(c,dbOut,varargin)">writedb</a>	WRITEDB write antelope database tables</li><li><a href="xcorr.html" class="code" title="function c=xcorr(c,varargin)">xcorr</a>	C = XCORR(C)</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function checkvals(vals)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function val = get(c,prop_name)</a>
0002 
0003 <span class="comment">% GET - Get correlation properties</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% VAL = get(C,PROP_NAME)</span>
0006 <span class="comment">% See HELP CORRELATION for description of primary property names:</span>
0007 <span class="comment">%   Waveforms, Trig, Corr, Lag, Stat, Link, Clust</span>
0008 <span class="comment">%</span>
0009 <span class="comment">% Additional scalar properties:</span>
0010 <span class="comment">%   Traces:         number of traces</span>
0011 <span class="comment">%   Data_Length:    number of samples in each trace</span>
0012 <span class="comment">%   Fs:             Frequency</span>
0013 <span class="comment">%   Period:         Period</span>
0014 <span class="comment">%   Nyq:            Nyquist frequency</span>
0015 <span class="comment">%   **NOTE - The scalar properties listed above exist for each waveform</span>
0016 <span class="comment">%   (except Traces). However, the correlation object requires them to be</span>
0017 <span class="comment">%   the same. GET only reads the value associated with the first waveform</span>
0018 <span class="comment">%   Normally this will not be an issue. If the correlation object</span>
0019 <span class="comment">%   was created manually it is possible for these fields to be different.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% Additional vector properties (nx1):</span>
0022 <span class="comment">%   Start, Trig, End:             same as Start_Matlab, End_Matlab</span>
0023 <span class="comment">%   Start_Str, Trig_Str, End_Str:           String times</span>
0024 <span class="comment">%   Start_Matlab, Trig_Matlab, End_Matlab:  Matlab-format times</span>
0025 <span class="comment">%   Start_Epoch, Trig_Epoch, End_Epoch:     Epoch-format times</span>
0026 <span class="comment">%</span>
0027 <span class="comment">% Additional vector properties (nx1 cell vector)</span>
0028 <span class="comment">%   Sta (or Station):       Cell vector of station names</span>
0029 <span class="comment">%   Chan (or Component):    Cell vector of channel names</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% Additional matrix properties (nxm matrix)</span>
0032 <span class="comment">%   Data:                    Matrix of raw trace data</span>
0033 <span class="comment">%                           (n traces) x (m samples)</span>
0034 
0035 <span class="comment">% Author: Michael West, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0036 <span class="comment">% $Date$</span>
0037 <span class="comment">% $Revision$</span>
0038 
0039 
0040 <span class="keyword">if</span> nargin &lt;= 1
0041     error(<span class="string">'Not enough inputs'</span>);
0042 <span class="keyword">end</span>
0043 
0044 <span class="keyword">if</span> ~strcmpi(class(c),<span class="string">'correlation'</span>)
0045     error(<span class="string">'First argument must be a correlation object'</span>);
0046 <span class="keyword">end</span>
0047 
0048                        
0049 <span class="keyword">switch</span> upper(prop_name)
0050     <span class="keyword">case</span> {<span class="string">'WAVEFORMS'</span>}
0051         val = c.W;
0052     <span class="keyword">case</span> {<span class="string">'WAVEFORM'</span>}
0053         val = c.W;
0054     <span class="keyword">case</span> {<span class="string">'WAVES'</span>}
0055         val = c.W;
0056     <span class="keyword">case</span> {<span class="string">'TRIG'</span>}
0057         val = c.trig;
0058     <span class="keyword">case</span> {<span class="string">'TRIG_STR'</span>}
0059         val = cellstr(datestr(c.trig,<span class="string">'dd-mmm-yyyy HH:MM:SS.FFF'</span>));
0060     <span class="keyword">case</span> {<span class="string">'TRIG_MATLAB'</span>}
0061         val = c.trig;
0062     <span class="keyword">case</span> {<span class="string">'TRIG_EPOCH'</span>}
0063         disp(<span class="string">'TRIG_EPOCH property not currently implimented'</span>);
0064     <span class="keyword">case</span> {<span class="string">'CORR'</span>}
0065         val = c.C;
0066     <span class="keyword">case</span> {<span class="string">'LAG'</span>}
0067         val = c.L;
0068     <span class="keyword">case</span> {<span class="string">'STAT'</span>}
0069         val = c.stat;
0070     <span class="keyword">case</span> {<span class="string">'LINK'</span>}
0071         val = c.link;
0072     <span class="keyword">case</span> {<span class="string">'CLUST'</span>}
0073         val = c.clust;
0074     <span class="keyword">case</span> {<span class="string">'TRACES'</span>}
0075         val = size(c.W,1);
0076         
0077     <span class="comment">% FROM WAVEFORM/GET (SCALAR OUTPUT)</span>
0078     <span class="keyword">case</span> {<span class="string">'DATA_LENGTH'</span>}
0079         vals = <a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>(c.W,<span class="string">'DATA_LENGTH'</span>);  
0080          <span class="comment">%checkvals(vals);</span>
0081        val = vals(1);   
0082     <span class="keyword">case</span> {<span class="string">'FS'</span>}
0083         vals = <a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>(c.W,<span class="string">'FS'</span>);  
0084         <span class="comment">%checkvals(vals);</span>
0085         val = vals(1);
0086 <span class="comment">%     case {'PERIOD'}</span>
0087 <span class="comment">%         val = get(c.W(1),'PERIOD');</span>
0088 <span class="comment">%     case {'NYQ'}</span>
0089 <span class="comment">%         val = get(c.W(1),'NYQ');</span>
0090 
0091 <span class="comment">%     % FROM WAVEFORM/GET (VECTOR)</span>
0092     <span class="keyword">case</span> {<span class="string">'STATION'</span>, <span class="string">'STA'</span>}
0093         val = <a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>(c.W,<span class="string">'STATION'</span>);
0094     <span class="keyword">case</span> {<span class="string">'COMPONENT'</span>, <span class="string">'CHAN'</span>}
0095         val = <a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>(c.W,<span class="string">'COMPONENT'</span>);
0096 <span class="comment">%     case {'CHAN'}</span>
0097 <span class="comment">%         val = get(c.W,'COMPONENT');</span>
0098 <span class="comment">%</span>
0099 <span class="comment">%     case {'START'}</span>
0100 <span class="comment">%         val = get(c.W,'START_MATLAB');</span>
0101 <span class="comment">%     case {'END'}</span>
0102 <span class="comment">%         val = get(c.W,'END_MATLAB');</span>
0103 <span class="comment">%</span>
0104 <span class="comment">%     case {'START_STR'}</span>
0105 <span class="comment">%         val = get(c.W,'START_STR');</span>
0106 <span class="comment">%     case {'START_MATLAB'}</span>
0107 <span class="comment">%         val = get(c.W,'START_MATLAB');</span>
0108 <span class="comment">%     case {'START_EPOCH'}</span>
0109 <span class="comment">%         val = get(c.W,'START_EPOCH');</span>
0110 <span class="comment">%</span>
0111 <span class="comment">%     case {'END_STR'}</span>
0112 <span class="comment">%         val = get(c.W,'END_STR');</span>
0113 <span class="comment">%     case {'END_MATLAB'}</span>
0114 <span class="comment">%         val = get(c.W,'END_MATLAB');</span>
0115 <span class="comment">%     case {'END_EPOCH'}</span>
0116 <span class="comment">%         val = get(c.W,'END_EPOCH');</span>
0117 <span class="comment">%</span>
0118 <span class="comment">%     case {'DURATION_STR'}</span>
0119 <span class="comment">%         val = get(c.W,'DURATION_STR');</span>
0120 <span class="comment">%     case {'DURATION_MATLAB'}</span>
0121 <span class="comment">%         val = get(c.W,'DURATION_MATLAB');</span>
0122 <span class="comment">%     case {'DURATION_EPOCH'}</span>
0123 <span class="comment">%         val = get(c.W,'DURATION_EPOCH');</span>
0124 
0125  <span class="comment">% OTHER ROUTINES</span>
0126     <span class="keyword">case</span> {<span class="string">'DATA'</span>}
0127         val = double(c.W);
0128         
0129         
0130     <span class="keyword">otherwise</span>
0131         <span class="keyword">try</span> 
0132             <span class="comment">% see if it is a valid waveform property</span>
0133             val = <a href="get.html" class="code" title="function val = get(c,prop_name)">get</a>(c.W,prop_name);
0134         <span class="keyword">catch</span>
0135             error([upper(prop_name) <span class="string">' is not a valid argument for correlation/get'</span>]);
0136         <span class="keyword">end</span>
0137 <span class="keyword">end</span>;
0138 
0139 
0140 <span class="comment">%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0141 <span class="comment">% CHECKVALS</span>
0142 <span class="comment">% This function checks to see if each waveform has the same parameters</span>
0143 
0144 <a name="_sub1" href="#_subfunctions" class="code">function checkvals(vals)</a>
0145 
0146 same = all(vals(:) == vals(1));
0147 
0148 <span class="keyword">if</span> ~same
0149     <span class="comment">% Warning is disabled because it gets called repeatedly (annoyingly)</span>
0150     <span class="comment">% from within other scripts</span>
0151     <span class="comment">% warning('Waveforms have different frequencies or different numbers of samples. Consider VERIFY function');</span>
0152 <span class="keyword">end</span>;
0153 
0154</pre></div>
<hr><address>Generated on Sun 11-Oct-2015 14:40:09 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>