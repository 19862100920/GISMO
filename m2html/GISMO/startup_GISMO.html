<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of startup_GISMO</title>
  <meta name="keywords" content="startup_GISMO">
  <meta name="description" content="STARTUP_GISMO recursively adds paths for contributed codes that build on">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">GISMO</a> &gt; startup_GISMO.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>startup_GISMO
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>STARTUP_GISMO recursively adds paths for contributed codes that build on</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function startup_GISMO(gismopath) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> STARTUP_GISMO recursively adds paths for contributed codes that build on
 the GISMO suite. If the Antelope toolbox is already in the Matlab path,
 then the codes with Antelope dependencies are added as well.

 To add new paths to the contributed archives please
 read 'contributed_style_guide.txt' in the GISMO directory.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../GISMO/core/+admin/which.html" class="code" title="function which(sourceLocation)">which</a>	WHICH manage and switch between multiple GISMO archives</li><li><a href="../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>	CATALOG.DISP Display Catalog object</li><li><a href="../GISMO/core/@datasource/disp.html" class="code" title="function disp(ds)">disp</a>	DISP Datasource disp overloaded operator</li><li><a href="../GISMO/core/@filterobject/disp.html" class="code" title="function disp(f)">disp</a>	DISP - Filterobject disp overloaded operator</li><li><a href="../GISMO/core/@scnlobject/disp.html" class="code" title="function disp(sncl)">disp</a>	DISP - scnl disp overloaded operator</li><li><a href="../GISMO/core/@spectralobject/disp.html" class="code" title="function disp(s)">disp</a>	DISP - spectralobject disp overloaded operator</li><li><a href="../GISMO/core/@threecomp/disp.html" class="code" title="function disp(TC)">disp</a>	DISP Display threecomp object</li><li><a href="../GISMO/core/@waveform/disp.html" class="code" title="function disp(w)">disp</a>	DISP Waveform disp overloaded operator</li><li><a href="../GISMO/core/dev/@NewCorrelation/disp.html" class="code" title="function disp(c)">disp</a>	CORRELATION/DISPLAY Command window display of a correlation object</li><li><a href="../GISMO/core/dev/@SeismicTrace/disp.html" class="code" title="function disp(T)">disp</a>	disp   Display information about SeismicTrace(s)</li><li><a href="../GISMO/deprecated/@helicorder/disp.html" class="code" title="function disp(h)">disp</a>	DISP: Helicorder disp overloaded operator</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../GISMO/core/+admin/which.html" class="code" title="function which(sourceLocation)">which</a>	WHICH manage and switch between multiple GISMO archives</li><li><a href="../GISMO/uaf_internal/gismo_management/whichgismo.html" class="code" title="function whichgismo(sourceLocation)">whichgismo</a>	WHICHGISMO   Select from multiple GISMO archives.</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function addContributed(gismopath, contribDir)</a></li><li><a href="#_sub2" class="code">function directoryList = removeHiddenFiles(directoryList)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function startup_GISMO(gismopath)</a>
0002 <span class="comment">% STARTUP_GISMO recursively adds paths for contributed codes that build on</span>
0003 <span class="comment">% the GISMO suite. If the Antelope toolbox is already in the Matlab path,</span>
0004 <span class="comment">% then the codes with Antelope dependencies are added as well.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% To add new paths to the contributed archives please</span>
0007 <span class="comment">% read 'contributed_style_guide.txt' in the GISMO directory.</span>
0008 
0009 <span class="comment">% Author: Michael West, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0010 <span class="comment">% Modified: Glenn Thompson Aug 2015 onwards</span>
0011 
0012 <span class="comment">% CHECK COMPATIBILITY</span>
0013 <span class="comment">% Should consider added a compatibility checkign mechanism at some point.</span>
0014 <span class="comment">% Not clear how best to do this. But given that GISMO uses features from</span>
0015 <span class="comment">% recent releases and add-on toolboxes, it would be great to give users a</span>
0016 <span class="comment">% heads up about such.</span>
0017 
0018 
0019 <span class="comment">% GET PATHS TO DIRECTORIES IN GISMO</span>
0020 <span class="keyword">if</span> ~exist(<span class="string">'gismopath'</span>, <span class="string">'var'</span>)
0021     <span class="comment">%gismofile = which('GISMO/startup_GISMO');</span>
0022     gismofile = <a href="../GISMO/core/+admin/which.html" class="code" title="function which(sourceLocation)">which</a>(<span class="string">'startup_GISMO'</span>);
0023     gismopath = fileparts(gismofile); <span class="comment">% first argout is the path</span>
0024 <span class="keyword">end</span>
0025 
0026 <span class="comment">% ADD PATH TO CORE</span>
0027 addpath(fullfile(gismopath,<span class="string">'core'</span>));
0028 
0029 <span class="comment">% ADD PATH TO PREVIOUS CORE</span>
0030 addpath(fullfile(gismopath,<span class="string">'core'</span>,<span class="string">'deprecated'</span>));
0031 
0032 <span class="comment">% ADD A PATH TO EACH DIRCTORY IN CONTRIBUTED</span>
0033 <a href="#_sub1" class="code" title="subfunction addContributed(gismopath, contribDir)">addContributed</a>(gismopath,<span class="string">'contributed'</span>);
0034 
0035 <span class="comment">% ADD A PATH TO EACH DIRECTORY IN CONTRIBUTED_ANTELOPE</span>
0036 <span class="keyword">if</span> exist(<span class="string">'dbopen'</span>,<span class="string">'file'</span>) &amp;&amp; exist(<span class="string">'trload_css'</span>,<span class="string">'file'</span>); <span class="comment">%  test for antelope</span>
0037   <a href="#_sub1" class="code" title="subfunction addContributed(gismopath, contribDir)">addContributed</a>(gismopath,<span class="string">'contributed_antelope'</span>);
0038 <span class="keyword">end</span>
0039 
0040 <span class="comment">% ADD A PATH TO EACH DIRCTORY IN UAF_INTERNAL</span>
0041 <a href="#_sub1" class="code" title="subfunction addContributed(gismopath, contribDir)">addContributed</a>(gismopath,<span class="string">'uaf_internal'</span>);
0042 
0043 <span class="comment">% ADD A PATH TO APPLICATIONS e.g. IceWeb</span>
0044 addpath(genpath(fullfile(gismopath,<span class="string">'applications'</span>)));
0045 
0046 <span class="comment">% ADD A PATH TO JAR FILES</span>
0047 javaaddpath(fullfile(gismopath,<span class="string">'contributed'</span>,<span class="string">'iris_dmc_tools'</span>,<span class="string">'IRIS-WS-2.0.15.jar'</span>))
0048 javaaddpath(fullfile(gismopath,<span class="string">'core'</span>,<span class="string">'swarm.jar'</span>))
0049 
0050 <span class="comment">% ADD PATH TO GISMO LIBRARY FUNCTIONS</span>
0051 addpath(fullfile(gismopath, <span class="string">'libgismo'</span>));
0052 
0053 <span class="comment">% ADD PATH TO TESTS</span>
0054 addpath(fullfile(gismopath, <span class="string">'tests'</span>));
0055 
0056 <span class="comment">%%</span>
0057 <a name="_sub1" href="#_subfunctions" class="code">function addContributed(gismopath, contribDir)</a>
0058 <span class="comment">% add each subdirectory within gismopath/contribDir/ to the matlab path</span>
0059 dirlist = dir(fullfile(gismopath,contribDir,<span class="string">''</span>));
0060 dirlist = <a href="#_sub2" class="code" title="subfunction directoryList = removeHiddenFiles(directoryList)">removeHiddenFiles</a>(dirlist);
0061 addpath(fullfile(gismopath,contribDir));
0062 <span class="keyword">for</span> n = 1:numel(dirlist)
0063   subdir = dirlist(n).name;
0064   newpath = fullfile(gismopath,contribDir, subdir,<span class="string">''</span>);
0065   <span class="keyword">if</span> ~isdir(newpath), <span class="keyword">continue</span>, <span class="keyword">end</span>  <span class="comment">%don't add loose files to the path</span>
0066   <span class="keyword">if</span> subdir(1)==<span class="string">'+'</span>, <span class="keyword">continue</span>, <span class="keyword">end</span> <span class="comment">% don't add package directories</span>
0067   addpath(newpath);
0068   
0069   <a href="../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>([<span class="string">'Adding path:  '</span> newpath]);
0070 <span class="keyword">end</span>
0071 
0072 
0073 <a name="_sub2" href="#_subfunctions" class="code">function directoryList = removeHiddenFiles(directoryList)</a>
0074 <span class="comment">%removes files that start with '.', which also includes '.', and '..'</span>
0075 startsWithPeriod = strncmp(<span class="string">'.'</span>,{directoryList.name},1);
0076 directoryList = directoryList(~startsWithPeriod);
0077</pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>