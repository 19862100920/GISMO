<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of create_demo_data</title>
  <meta name="keywords" content="create_demo_data">
  <meta name="description" content="This script was used once to create the demo dataset">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="../../../index.html">GISMO</a> &gt; <a href="#">core</a> &gt; <a href="../index.html">@threecomp</a> &gt; <a href="index.html">private</a> &gt; create_demo_data.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO/core/@threecomp/private&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>create_demo_data
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>This script was used once to create the demo dataset</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> This script was used once to create the demo dataset
 private/demo_waveforms.m. It has no further use and is kept only as
 sample. The originla dataset was California earthquake data in SAC files
 provided by Carl Tape. Original source unknown.

 To be run from within private directory. At the time demo data was
 created, a directory sample_data was in private/ as well.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="../../../../GISMO/core/@Catalog/plot.html" class="code" title="function plot(catalogObject, varargin)">plot</a>	CATALOG.PLOT Plot hypocenters in map view and cross-sections</li><li><a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li><li><a href="../../../../GISMO/core/@correlation/plot.html" class="code" title="function plot(c,varargin)">plot</a>	PLOT(C) plots waveforms stored in a correlation object. Traces are</li><li><a href="../../../../GISMO/core/@correlation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>	SET Set properties for correlation object</li><li><a href="../../../../GISMO/core/@datasource/get.html" class="code" title="function val = get(ds, propertyname)">get</a>	</li><li><a href="../../../../GISMO/core/@drumplot/get.html" class="code" title="function val = get(h,prop_name)">get</a>	GET: Get drumplot properties</li><li><a href="../../../../GISMO/core/@drumplot/plot.html" class="code" title="function varargout = plot(h)">plot</a>	PLOT: Drumplot plotting function. A drumplot object (h) contains no</li><li><a href="../../../../GISMO/core/@drumplot/set.html" class="code" title="function h = set(h,varargin)">set</a>	SET: Set drumplot properties</li><li><a href="../../../../GISMO/core/@filterobject/get.html" class="code" title="function val = get(f, prop_name)">get</a>	GET - Get filterobject properties</li><li><a href="../../../../GISMO/core/@filterobject/set.html" class="code" title="function f = set(f, varargin)">set</a>	SET - Set filterobject properties</li><li><a href="../../../../GISMO/core/@rsam/plot.html" class="code" title="function handlePlot = plot(rsam_vector, varargin)">plot</a>	RSAM/PLOT plot rsam data</li><li><a href="../../../../GISMO/core/@rsam/save.html" class="code" title="function save(self, filepattern)">save</a>	RSAM/SAVE - save an rsam-like object to an RSAM/BOB binary</li><li><a href="../../../../GISMO/core/@scnlobject/get.html" class="code" title="function stuff = get(scnl, prop_name)">get</a>	GET for the scnl object</li><li><a href="../../../../GISMO/core/@scnlobject/set.html" class="code" title="function scnl = set(scnl, varargin)">set</a>	SET - Set properties for scnlobject</li><li><a href="../../../../GISMO/core/@spectralobject/get.html" class="code" title="function out = get(s, prop_name)">get</a>	GET - Get properties for spectralobject</li><li><a href="../../../../GISMO/core/@spectralobject/set.html" class="code" title="function s = set(s, varargin)">set</a>	SET - Set properties for spectralobject</li><li><a href="../../../../GISMO/core/@threecomp/get.html" class="code" title="function val = get(TC,varargin)">get</a>	GET    Get threecomp object properties.</li><li><a href="../../../../GISMO/core/@threecomp/plot.html" class="code" title="function varargout = plot(TC, varargin)">plot</a>	PLOT plots a threecomp object</li><li><a href="../../../../GISMO/core/@threecomp/set.html" class="code" title="function TC = set(TC, fieldName, val)">set</a>	SET inserts properties for threecomp object</li><li><a href="../../../../GISMO/core/@waveform/addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">addfield</a>	ADDFIELD add fields and values to waveform object(s)                V1.1</li><li><a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>	DELFIELD removes fields from waveform object(s)</li><li><a href="../../../../GISMO/core/@waveform/get.html" class="code" title="function val = get(w,prop_name)">get</a>	GET Get waveform properties</li><li><a href="../../../../GISMO/core/@waveform/plot.html" class="code" title="function varargout = plot(w, varargin)">plot</a>	PLOT plots a waveform object</li><li><a href="../../../../GISMO/core/@waveform/set.html" class="code" title="function w = set(w, varargin)">set</a>	SET Set properties for waveform object(s)</li><li><a href="../../../../GISMO/core/dev/@NewCorrelation/get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li><li><a href="../../../../GISMO/core/dev/@NewCorrelation/plot.html" class="code" title="function plot(c,varargin)">plot</a>	PLOT(C) plots waveforms stored in a correlation object. Traces are</li><li><a href="../../../../GISMO/core/dev/@NewCorrelation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>	SET Set properties for correlation object</li><li><a href="../../../../GISMO/core/dev/@SeismicTrace/plot.html" class="code" title="function varargout = plot(T, varargin)">plot</a>	plot   plots a SeismicTrace</li><li><a href="../../../../GISMO/deprecated/@helicorder/get.html" class="code" title="function val = get(h,prop_name)">get</a>	GET: Get helicorder properties</li><li><a href="../../../../GISMO/deprecated/@helicorder/set.html" class="code" title="function h = set(h,varargin)">set</a>	SET: Set helicorder properties</li><li><a href="../../../../GISMO/deprecated/fft_tools/+wf_fft/plot.html" class="code" title="function plot(w)">plot</a>	PLOT plot fourier transform of a waveform</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% This script was used once to create the demo dataset</span>
0002 <span class="comment">% private/demo_waveforms.m. It has no further use and is kept only as</span>
0003 <span class="comment">% sample. The originla dataset was California earthquake data in SAC files</span>
0004 <span class="comment">% provided by Carl Tape. Original source unknown.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% To be run from within private directory. At the time demo data was</span>
0007 <span class="comment">% created, a directory sample_data was in private/ as well.</span>
0008 
0009 
0010 
0011 <span class="comment">% clear</span>
0012 <span class="comment">% clear classes</span>
0013 <span class="comment">% rmgismo</span>
0014 <span class="comment">% addpath('/home/field/GISMO_BRANCH/GISMO/');</span>
0015 <span class="comment">% startup_GISMO</span>
0016 
0017 
0018 <span class="comment">% LOAD DATA</span>
0019 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHZ.*'</span>));
0020 filesZ = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0021 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHN.*'</span>));
0022 filesN = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0023 fileList = struct2cell(dir(<span class="string">'sample_data/9155518*S*.BHE.*'</span>));
0024 filesE = strcat(<span class="string">'sample_data/'</span>, fileList(1,:)');
0025 files = [filesZ filesN filesE];
0026 w = loadsacfile(files);
0027 <span class="comment">%save junk</span>
0028 
0029 
0030 <span class="comment">% TRIM SIZE</span>
0031 w = w([36 19 20 4 21 9 18 10 17 11 8 5 14 26],:);
0032 
0033 
0034 <span class="comment">% ADJUST FIELDS</span>
0035 backAzimuth = <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(:,1),<span class="string">'BAZ'</span>);
0036 <span class="keyword">for</span> n = 1:numel(w)
0037      w(n) = <a href="../../../../GISMO/core/@waveform/addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">addfield</a>( w(n) , <span class="string">'stationLatitude'</span> , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'STLA'</span>) ); 
0038      w(n) = <a href="../../../../GISMO/core/@waveform/addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">addfield</a>( w(n) , <span class="string">'stationLongitude'</span> , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'STLO'</span>) ); 
0039      w(n) = <a href="../../../../GISMO/core/@waveform/addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">addfield</a>( w(n) , <span class="string">'originLatitude'</span> , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'EVLA'</span>) ); 
0040      w(n) = <a href="../../../../GISMO/core/@waveform/addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">addfield</a>( w(n) , <span class="string">'originLongitude'</span> , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'EVLO'</span>) );
0041     channel = <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'CHANNEL'</span>);
0042     w(n) = <a href="../../../../GISMO/core/@correlation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>( w(n) , <span class="string">'CHANNEL'</span> , channel(1:3) );
0043     network = <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n), <span class="string">'NETWORK'</span>);
0044     w(n) = <a href="../../../../GISMO/core/@correlation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>( w(n) , <span class="string">'NETWORK'</span> , network(1:2) );
0045 <span class="keyword">end</span>
0046 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'AZ'</span>);
0047 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'BAZ'</span>);
0048 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'CMPAZ'</span>);
0049 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'CMPINC'</span>);
0050 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'DIST'</span>);
0051 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'EVDP'</span>);
0052 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'GCARC'</span>);
0053 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'HISTORY'</span>);
0054 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'IFTYPE'</span>);
0055 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'IZTYPE'</span>);
0056 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'KEVNM'</span>);
0057 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'KT1'</span>);
0058 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w, <span class="string">'KT2'</span>);
0059 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'KUSER0'</span>);
0060 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'LCALDA'</span>);
0061 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'LOVROK'</span>);
0062 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'LPSPOL'</span>);
0063 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZHOUR'</span>);
0064 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZJDAY'</span>);
0065 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZMIN'</span>);
0066 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZMSEC'</span>);
0067 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZSEC'</span>);
0068 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'NZYEAR'</span>);
0069 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'O'</span>);
0070 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'SCALE'</span>);
0071 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'STDP'</span>);
0072 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'STEL'</span>);
0073 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'T1'</span>);
0074 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'T2'</span>);
0075 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'STLA'</span>);
0076 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'STLO'</span>);
0077 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'EVLA'</span>);
0078 w = <a href="../../../../GISMO/core/@waveform/delfield.html" class="code" title="function w = delfield(w,field_to_delete, ignoredvalue)">delfield</a>(w,<span class="string">'EVLO'</span>);
0079 
0080 
0081 <span class="comment">% PLOT LOCATIONS</span>
0082 figure;
0083 <a href="../../../../GISMO/core/@Catalog/plot.html" class="code" title="function plot(catalogObject, varargin)">plot</a>( <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(:,1),<span class="string">'STATIONLONGITUDE'</span>) , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(:,1),<span class="string">'STATIONLATITUDE'</span>) , <span class="string">'b+'</span>);
0084 hold on;
0085 <a href="../../../../GISMO/core/@Catalog/plot.html" class="code" title="function plot(catalogObject, varargin)">plot</a>( <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(:,1),<span class="string">'ORIGINLONGITUDE'</span>) , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(:,1),<span class="string">'ORIGINLATITUDE'</span>) , <span class="string">'ro'</span>);
0086 <a href="../../../../GISMO/core/@correlation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>(gca,<span class="string">'DataAspectRatio'</span>,[1 cosd(35) 1]);
0087 <span class="keyword">for</span> n=1:length(backAzimuth)
0088    text( <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n,1),<span class="string">'STATIONLONGITUDE'</span>) , <a href="../../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>(w(n,1),<span class="string">'STATIONLATITUDE'</span>) , num2str(n) );
0089 <span class="keyword">end</span>
0090 
0091 
0092 <span class="comment">% SAVE DEMO DATA</span>
0093 <a href="../../../../GISMO/core/@rsam/save.html" class="code" title="function save(self, filepattern)">save</a>(<span class="string">'demo_waveforms.mat'</span>,<span class="string">'w'</span>,<span class="string">'backAzimuth'</span>);
0094 
0095 
0096</pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>