<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of which</title>
  <meta name="keywords" content="which">
  <meta name="description" content="WHICH manage and switch between multiple GISMO archives">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">GISMO</a> &gt; <a href="#">core</a> &gt; <a href="index.html">+admin</a> &gt; which.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO/core/+admin&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>which
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>WHICH manage and switch between multiple GISMO archives</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function which(sourceLocation) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">WHICH manage and switch between multiple GISMO archives
 WHICH displays the path to the current GISMO archive and lists all
 the other optional paths that currently defined paths.
 
 WHICH(NAME) removes all existing paths containing the phrase
 'GISMO'. New GISMO paths are then added based on predefined locations 
 specified by NAME.
 Example names and paths are listed below. 

    name          path
    r306          /home/admin/share/matlab/PACKAGES/GISMO_r306/GISMO
    MyLaptop      ~/Repositories/GISMOTOOLS/GISMO
    Work          ~/src/gismotools/GISMO

 A suitable WHICHGISMO_PATH script should look like this: 

 paths = {
    'r306'          '/home/admin/share/matlab/PACKAGES/GISMO_r306/GISMO'
    'MyLaptop'      '~/Repositories/GISMOTOOLS/GISMO'
    'Work'          '~/src/gismotools/GISMO'
 };

 See also admin.<a href="remove.html" class="code" title="function remove">remove</a> admin.<a href="getpath.html" class="code" title="function pathName = getpath(varargin)">getpath</a> admin.<a href="refresh.html" class="code" title="function refresh()">refresh</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="which.html" class="code" title="function which(sourceLocation)">which</a>	WHICH manage and switch between multiple GISMO archives</li><li><a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>	CATALOG.DISP Display Catalog object</li><li><a href="../../../GISMO/core/@correlation/find.html" class="code" title="function index = find(c,varargin)">find</a>	INDEX = FIND(c,'CLUST',WHICH_CLUSTER)</li><li><a href="../../../GISMO/core/@datasource/disp.html" class="code" title="function disp(ds)">disp</a>	DISP Datasource disp overloaded operator</li><li><a href="../../../GISMO/core/@filterobject/disp.html" class="code" title="function disp(f)">disp</a>	DISP - Filterobject disp overloaded operator</li><li><a href="../../../GISMO/core/@scnlobject/disp.html" class="code" title="function disp(sncl)">disp</a>	DISP - scnl disp overloaded operator</li><li><a href="../../../GISMO/core/@spectralobject/disp.html" class="code" title="function disp(s)">disp</a>	DISP - spectralobject disp overloaded operator</li><li><a href="../../../GISMO/core/@threecomp/disp.html" class="code" title="function disp(TC)">disp</a>	DISP Display threecomp object</li><li><a href="../../../GISMO/core/@waveform/disp.html" class="code" title="function disp(w)">disp</a>	DISP Waveform disp overloaded operator</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/disp.html" class="code" title="function disp(c)">disp</a>	CORRELATION/DISPLAY Command window display of a correlation object</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/find.html" class="code" title="function index = find(c, type, value)">find</a>	INDEX = FIND(c,'CLUST',WHICH_CLUSTER)</li><li><a href="../../../GISMO/core/dev/@SeismicTrace/disp.html" class="code" title="function disp(T)">disp</a>	disp   Display information about SeismicTrace(s)</li><li><a href="../../../GISMO/deprecated/@helicorder/disp.html" class="code" title="function disp(h)">disp</a>	DISP: Helicorder disp overloaded operator</li><li><a href="../../../GISMO/startup_GISMO.html" class="code" title="function startup_GISMO(gismopath)">startup_GISMO</a>	STARTUP_GISMO recursively adds paths for contributed codes that build on</li><li><a href="../../../GISMO/uaf_internal/gismo_management/whichgismo_paths.html" class="code" title="">whichgismo_paths</a>	Configuration file containing preset paths for whichgismo. See</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/contributed/instrument_response/response_demo_database.html" class="code" title="function dbName = response_demo_database">response_demo_database</a>	RESPONSE_DEMO_DATABASE returns the absolute path to the demo database</li><li><a href="../../../GISMO/contributed/instrument_response/response_demo_waveforms.html" class="code" title="function w = response_demo_waveforms">response_demo_waveforms</a>	RESPONSE_DEMO_WAVEFORMS returns the absolute path to the demo database</li><li><a href="../../../GISMO/contributed/master_correlation/+mastercorr/load_cookbook_data.html" class="code" title="function W = load_cookbook_data">load_cookbook_data</a>	LOAD_COOKBOOK_DATA Load sample data used in MASTERCORR.COOKBOOK</li><li><a href="getpath.html" class="code" title="function pathName = getpath(varargin)">getpath</a>	GETPATH returns a path to GISMO toolbox(es)</li><li><a href="refresh.html" class="code" title="function refresh()">refresh</a>	REFRESH refresh all paths in GISMO</li><li><a href="which.html" class="code" title="function which(sourceLocation)">which</a>	WHICH manage and switch between multiple GISMO archives</li><li><a href="../../../GISMO/core/@correlation/correlation.html" class="code" title="function c = correlation(varargin)">correlation</a>	</li><li><a href="../../../GISMO/startup_GISMO.html" class="code" title="function startup_GISMO(gismopath)">startup_GISMO</a>	STARTUP_GISMO recursively adds paths for contributed codes that build on</li><li><a href="../../../GISMO/tests/antelope2waveform_test.html" class="code" title="function w=antelope2waveform_test()">antelope2waveform_test</a>	dbpath = '/aerun/sum/db/archive/archive_2011/archive_2011_11_16';</li><li><a href="../../../GISMO/tests/testWaveform.html" class="code" title="">testWaveform</a>	</li><li><a href="../../../GISMO/tests/waveform_antelope_test.html" class="code" title="function tests = waveform_antelope_test()">waveform_antelope_test</a>	% Main function to generate tests</li><li><a href="../../../GISMO/uaf_internal/gismo_management/whichgismo.html" class="code" title="function whichgismo(sourceLocation)">whichgismo</a>	WHICHGISMO   Select from multiple GISMO archives.</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function displaypaths(paths)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function which(sourceLocation)</a>
0002 
0003 <span class="comment">%WHICH manage and switch between multiple GISMO archives</span>
0004 <span class="comment">% WHICH displays the path to the current GISMO archive and lists all</span>
0005 <span class="comment">% the other optional paths that currently defined paths.</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% WHICH(NAME) removes all existing paths containing the phrase</span>
0008 <span class="comment">% 'GISMO'. New GISMO paths are then added based on predefined locations</span>
0009 <span class="comment">% specified by NAME.</span>
0010 <span class="comment">% Example names and paths are listed below.</span>
0011 <span class="comment">%</span>
0012 <span class="comment">%    name          path</span>
0013 <span class="comment">%    r306          /home/admin/share/matlab/PACKAGES/GISMO_r306/GISMO</span>
0014 <span class="comment">%    MyLaptop      ~/Repositories/GISMOTOOLS/GISMO</span>
0015 <span class="comment">%    Work          ~/src/gismotools/GISMO</span>
0016 <span class="comment">%</span>
0017 <span class="comment">% A suitable WHICHGISMO_PATH script should look like this:</span>
0018 <span class="comment">%</span>
0019 <span class="comment">% paths = {</span>
0020 <span class="comment">%    'r306'          '/home/admin/share/matlab/PACKAGES/GISMO_r306/GISMO'</span>
0021 <span class="comment">%    'MyLaptop'      '~/Repositories/GISMOTOOLS/GISMO'</span>
0022 <span class="comment">%    'Work'          '~/src/gismotools/GISMO'</span>
0023 <span class="comment">% };</span>
0024 <span class="comment">%</span>
0025 <span class="comment">% See also admin.remove admin.getpath admin.refresh</span>
0026 
0027 <span class="comment">% Author: Michael West, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0028 <span class="comment">% $Date$</span>
0029 <span class="comment">% $Revision$</span>
0030 
0031 
0032 
0033 <span class="comment">% LOAD PREDEFIEND PATHS</span>
0034 <a href="../../../GISMO/uaf_internal/gismo_management/whichgismo_paths.html" class="code" title="">whichgismo_paths</a>;
0035 
0036 
0037 <span class="comment">% LIST OPTIONS, IF NONE USED</span>
0038 <span class="keyword">if</span> ~exist(<span class="string">'sourceLocation'</span>)
0039     <a href="#_sub1" class="code" title="subfunction displaypaths(paths)">displaypaths</a>(paths);
0040     <span class="keyword">return</span>;
0041 <span class="keyword">end</span>
0042 
0043 
0044 <span class="comment">% CHECK IF SOURCELOCATION IS A VALID GISMO PATH</span>
0045 fullStartUp = fullfile(sourceLocation,<span class="string">'startup_GISMO.m'</span>);
0046 <span class="keyword">if</span> exist(sourceLocation,<span class="string">'dir'</span>) &amp;&amp;  exist(fullStartUp,<span class="string">'file'</span>)
0047     newSource = sourceLocation;
0048 <span class="keyword">else</span>
0049     
0050     <span class="comment">% CHECK IF SOURCELOCATION IS PREDIFINED</span>
0051     f = <a href="../../../GISMO/core/@correlation/find.html" class="code" title="function index = find(c,varargin)">find</a>(strcmpi(sourceLocation,paths(:,1)));
0052     <span class="keyword">if</span> numel(f)&gt;1
0053         <a href="#_sub1" class="code" title="subfunction displaypaths(paths)">displaypaths</a>(paths);
0054         error(<span class="string">'Argument matches more than one path.'</span>);
0055     <span class="keyword">end</span>
0056     
0057     <span class="keyword">if</span> numel(f)==0
0058         <a href="#_sub1" class="code" title="subfunction displaypaths(paths)">displaypaths</a>(paths);
0059         error(<span class="string">'GISMO Source not recognized'</span>);
0060     <span class="keyword">end</span>
0061     
0062     <span class="keyword">if</span> numel(f)==1
0063         newSource = paths{f,2};
0064     <span class="keyword">end</span>
0065     
0066 <span class="keyword">end</span>
0067 
0068 
0069 
0070 
0071 <span class="comment">% ADD NEW GISMO PATH</span>
0072 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>([<span class="string">'Removing all references to GISMO ...'</span>]);
0073 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>([<span class="string">'Adding GISMO components from '</span> newSource <span class="string">' ...'</span>]);
0074 <span class="keyword">try</span>
0075     import admin.remove
0076 <span class="keyword">catch</span>
0077    error(<span class="string">'Could not find program admin.remove'</span>); 
0078 <span class="keyword">end</span>
0079 addpath(newSource);
0080 <a href="../../../GISMO/startup_GISMO.html" class="code" title="function startup_GISMO(gismopath)">startup_GISMO</a>;
0081 
0082 
0083 
0084 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0085 <span class="comment">%% PRINT PATH OPTIONS TO SCREEN</span>
0086 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0087 
0088 <a name="_sub1" href="#_subfunctions" class="code">function displaypaths(paths)</a>
0089 
0090 <span class="comment">% DISPLAY CURRENT GISMO</span>
0091 gismoPath = <a href="which.html" class="code" title="function which(sourceLocation)">which</a>(<span class="string">'startup_GISMO'</span>);
0092 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(<span class="string">' '</span>);
0093 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(<span class="string">'CURRENT GISMO PATH: '</span>);
0094 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(gismoPath(1:end-16));
0095 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(<span class="string">' '</span>);
0096 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(<span class="string">'OTHER GISMO PATHS: '</span>);
0097 
0098 <span class="comment">% SHOW PATH OPTIONS</span>
0099 <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(<span class="string">' name          path'</span>);
0100 <span class="keyword">for</span> n = 1:size(paths,1)
0101     txt = sprintf(<span class="string">'%-12s %s'</span>, paths{n,1} , paths{n,2} );
0102     <a href="../../../GISMO/core/@Catalog/disp.html" class="code" title="function disp(obj, showall)">disp</a>(txt);
0103 <span class="keyword">end</span>
0104 
0105</pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>