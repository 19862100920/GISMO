<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of isfield</title>
  <meta name="keywords" content="isfield">
  <meta name="description" content="ISFIELD checks the presence of waveform fields.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">GISMO</a> &gt; <a href="#">core</a> &gt; <a href="index.html">@waveform</a> &gt; isfield.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO/core/@waveform&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>isfield
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>ISFIELD checks the presence of waveform fields.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function TF = isfield(w,testField) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">ISFIELD checks the presence of waveform fields.
   TF = ISFIELD(WAVEFORM,FIELD) returns an array the same size as
   WAVEFORM, containing logical 1 (true) where the elements of WAVEFORM
   contains the field specified by FIELD, and logical 0 (false) elsewhere.
   This is valuable since waveforms are capable of storing arbitrary
   user-defined fields. WAVEFORM can be of arbitrary size. FIELD may be a
   character string of a cell containing the same.

   TF = ISFIELD(WAVEFORM,{FIELD1 FIELD2 FIELD3 ...}) checks for presence
   of several fields. In this use, WAVEFORM must be 1x1. TF is a matrix of
   logical 0 or 1 (true or false) with one element for each input FIELD.
   FIELD must be a cell array containing character strings.

  See also <a href="addfield.html" class="code" title="function w = addfield(w,fieldname,value,noHistOption)">ADDFIELD</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/core/@correlation/get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li><li><a href="../../../GISMO/core/@correlation/waveform.html" class="code" title="function w = waveform(c,varargin)">waveform</a>	WAVEFORM Extract a waveform object.</li><li><a href="../../../GISMO/core/@datasource/get.html" class="code" title="function val = get(ds, propertyname)">get</a>	</li><li><a href="../../../GISMO/core/@drumplot/get.html" class="code" title="function val = get(h,prop_name)">get</a>	GET: Get drumplot properties</li><li><a href="../../../GISMO/core/@filterobject/get.html" class="code" title="function val = get(f, prop_name)">get</a>	GET - Get filterobject properties</li><li><a href="../../../GISMO/core/@scnlobject/get.html" class="code" title="function stuff = get(scnl, prop_name)">get</a>	GET for the scnl object</li><li><a href="../../../GISMO/core/@spectralobject/get.html" class="code" title="function out = get(s, prop_name)">get</a>	GET - Get properties for spectralobject</li><li><a href="../../../GISMO/core/@threecomp/get.html" class="code" title="function val = get(TC,varargin)">get</a>	GET    Get threecomp object properties.</li><li><a href="../../../GISMO/core/@threecomp/waveform.html" class="code" title="function w = waveform(TC)">waveform</a>	WAVEFORM Get waveforms from a threecomp object</li><li><a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>	GET Get waveform properties</li><li><a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>	MIN    Largest value of a waveform.</li><li><a href="waveform.html" class="code" title="function w = waveform(varargin)">waveform</a>	WAVEFORM Waveform Class constructor</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/get.html" class="code" title="function val = get(c,prop_name)">get</a>	GET - Get correlation properties</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/waveform.html" class="code" title="function w = waveform(c,varargin)">waveform</a>	WAVEFORM Extract a waveform object.</li><li><a href="../../../GISMO/deprecated/@helicorder/get.html" class="code" title="function val = get(h,prop_name)">get</a>	GET: Get helicorder properties</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/contributed/iris_dmc_tools/+irisdmc/xml2struct.html" class="code" title="function [s,success] = xml2struct(file)">xml2struct</a>	Convert xml file into a MATLAB structure</li><li><a href="../../../GISMO/contributed/iris_dmc_tools/dmc_xml2struct.html" class="code" title="function [s,success] = dmc_xml2struct(file)">dmc_xml2struct</a>	Convert xml file into a MATLAB structure</li><li><a href="../../../GISMO/core/@correlation/correlation.html" class="code" title="function c = correlation(varargin)">correlation</a>	</li><li><a href="../../../GISMO/core/@threecomp/plot.html" class="code" title="function varargout = plot(TC, varargin)">plot</a>	PLOT plots a threecomp object</li><li><a href="../../../GISMO/core/@threecomp/plot2.html" class="code" title="function fh=plot2(TC,varargin)">plot2</a>	PLOT2 a figure of three component traces (deprecated).</li><li><a href="../../../GISMO/core/@threecomp/success.html" class="code" title="function [mask,conflicts] = success(TC)">success</a>	SUCCESS Checks the success of a conversion to threecomp object.</li><li><a href="../../../GISMO/core/@threecomp/threecomp.html" class="code" title="">threecomp</a>	THREECOMP Object for three component waveform data</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/NewCorrelation.html" class="code" title="">NewCorrelation</a>	</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/wiggleinterferogram.html" class="code" title="function wiggleinterferogram(c,scale,type,norm,range)">wiggleinterferogram</a>	Private method. See ../plot for details.</li><li><a href="../../../GISMO/core/dev/@SeismicTrace/SeismicTrace.html" class="code" title="">SeismicTrace</a>	</li><li><a href="../../../GISMO/core/dev/@SeismicTrace/disp.html" class="code" title="function disp(T)">disp</a>	disp   Display information about SeismicTrace(s)</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function TF = isfield(w,testField)</a>
0002    <span class="comment">%ISFIELD checks the presence of waveform fields.</span>
0003    <span class="comment">%   TF = ISFIELD(WAVEFORM,FIELD) returns an array the same size as</span>
0004    <span class="comment">%   WAVEFORM, containing logical 1 (true) where the elements of WAVEFORM</span>
0005    <span class="comment">%   contains the field specified by FIELD, and logical 0 (false) elsewhere.</span>
0006    <span class="comment">%   This is valuable since waveforms are capable of storing arbitrary</span>
0007    <span class="comment">%   user-defined fields. WAVEFORM can be of arbitrary size. FIELD may be a</span>
0008    <span class="comment">%   character string of a cell containing the same.</span>
0009    <span class="comment">%</span>
0010    <span class="comment">%   TF = ISFIELD(WAVEFORM,{FIELD1 FIELD2 FIELD3 ...}) checks for presence</span>
0011    <span class="comment">%   of several fields. In this use, WAVEFORM must be 1x1. TF is a matrix of</span>
0012    <span class="comment">%   logical 0 or 1 (true or false) with one element for each input FIELD.</span>
0013    <span class="comment">%   FIELD must be a cell array containing character strings.</span>
0014    <span class="comment">%</span>
0015    <span class="comment">%  See also ADDFIELD</span>
0016    
0017    <span class="comment">% AUTHOR: Michael West, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0018    <span class="comment">% $Date$</span>
0019    <span class="comment">% $Revision$</span>
0020    
0021    
0022    <span class="comment">% READ &amp; CHECK ARGUMENTS</span>
0023    <span class="keyword">if</span> (nargin~=2)
0024       error(<span class="string">'Incorrect number of arguments'</span>);
0025    <span class="keyword">end</span>
0026    <span class="keyword">if</span> ~isa(w,<span class="string">'waveform'</span>)
0027       error(<span class="string">'First input must be a waveform object'</span>);
0028    <span class="keyword">end</span>
0029    <span class="keyword">if</span> ~ischar(testField) &amp;&amp; ~iscell(testField)
0030       error(<span class="string">'Second argument must be a string or cell array of strings'</span>);
0031    <span class="keyword">end</span>
0032    <span class="keyword">if</span> ischar(testField)
0033       testField = {testField};
0034    <span class="keyword">end</span>
0035    <span class="keyword">if</span> numel(w)&gt;1 &amp;&amp; numel(testField)&gt;1
0036       error(<span class="string">'Multiple waveforms can only be tested against a single field at a time'</span>);
0037    <span class="keyword">end</span>
0038    
0039    
0040    <span class="comment">% GET LIST(S) OF STANDARD PLUS MISC. FIELDS</span>
0041    <span class="keyword">if</span> numel(w)==1
0042       waveformMiscFields = {<a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'MISC_FIELDS'</span>)};
0043    <span class="keyword">else</span>
0044       waveformMiscFields = <a href="get.html" class="code" title="function val = get(w,prop_name)">get</a>(w,<span class="string">'MISC_FIELDS'</span>);
0045    <span class="keyword">end</span>
0046    waveformStandardFields = fields(<a href="waveform.html" class="code" title="function w = waveform(varargin)">waveform</a>)';
0047    waveformFields = cell(size(w));
0048    <span class="keyword">for</span> n = 1:numel(waveformFields)
0049       waveformFields{n} = [waveformStandardFields waveformMiscFields{n}];
0050    <span class="keyword">end</span>
0051    
0052    
0053    <span class="comment">% TEST AGAINST A SINGLE FIELD</span>
0054    <span class="keyword">if</span> numel(testField)==1
0055       TF = zeros(size(w));
0056       <span class="keyword">for</span> n = 1:numel(TF)
0057          TF(n) = <a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>(strcmpi(testField,waveformFields{n}));
0058       <span class="keyword">end</span>
0059    <span class="keyword">end</span>
0060    
0061    
0062    <span class="comment">% TEST AGAINST MULTIPLE FIELDS</span>
0063    <span class="keyword">if</span> numel(testField)&gt;1
0064       TF = zeros(size(testField));
0065       <span class="keyword">for</span> n = 1:numel(TF)
0066          TF(n) = <a href="max.html" class="code" title="function [Y, I] = max(w)">max</a>(strcmpi(testField(n),waveformFields{1}));
0067       <span class="keyword">end</span>
0068       
0069    <span class="keyword">end</span>
0070 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>