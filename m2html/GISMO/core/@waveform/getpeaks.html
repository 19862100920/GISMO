<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of getpeaks</title>
  <meta name="keywords" content="getpeaks">
  <meta name="description" content="GETPEAKS return mask for peak values for a waveform">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">GISMO</a> &gt; <a href="#">core</a> &gt; <a href="index.html">@waveform</a> &gt; getpeaks.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO/core/@waveform&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>getpeaks
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>GETPEAKS return mask for peak values for a waveform</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function peakmask = getpeaks(w) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">GETPEAKS return mask for peak values for a waveform
     PEAKMASK = GETPEAKS(WAVEFORM)
     returns a mask of all maximums in the waveform.

   Input Arguments
       WAVEFORM: waveform object  (SINGLE WAVEFORM)

   Output
       PEAKMASK: a mask of all local maximums within the waveform.
       This mask can then be used to reference the peak points in a
       waveform

   a MASK is a logical array the same size as the waveform's data,
   where the value is TRUE when that data point is a peak, and is zero
   otherwise.

   in some cases, it may be preferable to get the peakmask for the
   absolute value of the data, that way both highs and lows are marked.

 See also WAVEFORM/HILBERT</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/contributed/master_correlation/+mastercorr/scan.html" class="code" title="function [WW,WWxc] = scan(WW,WWsnippet,threshold)">scan</a>	SCAN scans a waveform for events which match a master.</li><li><a href="../../../GISMO/contributed/master_correlation/mastercorr_scan.html" class="code" title="function [WW,WWxc] = mastercorr_scan(WW,WWsnippet,threshold)">mastercorr_scan</a>	MASTERCORR_SCAN scans a waveform for events which match a master.</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function peakmask = getpeaks(w)</a>
0002    <span class="comment">%GETPEAKS return mask for peak values for a waveform</span>
0003    <span class="comment">%     PEAKMASK = GETPEAKS(WAVEFORM)</span>
0004    <span class="comment">%     returns a mask of all maximums in the waveform.</span>
0005    <span class="comment">%</span>
0006    <span class="comment">%   Input Arguments</span>
0007    <span class="comment">%       WAVEFORM: waveform object  (SINGLE WAVEFORM)</span>
0008    <span class="comment">%</span>
0009    <span class="comment">%   Output</span>
0010    <span class="comment">%       PEAKMASK: a mask of all local maximums within the waveform.</span>
0011    <span class="comment">%       This mask can then be used to reference the peak points in a</span>
0012    <span class="comment">%       waveform</span>
0013    <span class="comment">%</span>
0014    <span class="comment">%   a MASK is a logical array the same size as the waveform's data,</span>
0015    <span class="comment">%   where the value is TRUE when that data point is a peak, and is zero</span>
0016    <span class="comment">%   otherwise.</span>
0017    <span class="comment">%</span>
0018    <span class="comment">%   in some cases, it may be preferable to get the peakmask for the</span>
0019    <span class="comment">%   absolute value of the data, that way both highs and lows are marked.</span>
0020    <span class="comment">%</span>
0021    <span class="comment">% See also WAVEFORM/HILBERT</span>
0022    
0023    <span class="comment">% AUTHOR: Celso Reyes, Geophysical Institute, Univ. of Alaska Fairbanks</span>
0024    <span class="comment">% $Date$</span>
0025    <span class="comment">% $Revision$</span>
0026    
0027    <span class="keyword">if</span> ~isscalar(w)
0028       error(<span class="string">'Waveform:getpeaks:tooManyWaveforms'</span>,<span class="keyword">...</span>
0029          <span class="string">'getpeaks can only be used with individual waveforms'</span>);
0030    <span class="keyword">end</span>
0031    BiggerLeft = [(w.data(1:end-1) &gt;= w.data(2:end)); true];
0032    BiggerRight = [true ; (w.data(1:end-1) &lt; w.data(2:end))];
0033    peakmask = (BiggerLeft &amp; BiggerRight);
0034 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>