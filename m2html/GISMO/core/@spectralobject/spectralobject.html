<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of spectralobject</title>
  <meta name="keywords" content="spectralobject">
  <meta name="description" content="SPECTRALOBJECT - spectralobject class constructor">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">GISMO</a> &gt; <a href="#">core</a> &gt; <a href="index.html">@spectralobject</a> &gt; spectralobject.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for GISMO/core/@spectralobject&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>spectralobject
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>SPECTRALOBJECT - spectralobject class constructor</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function s = spectralobject(anyV,overlap,freqmax,dBlims, scaling) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">SPECTRALOBJECT - spectralobject class constructor
      Ways to call...
      s = SPECTRALOBJECT() creates a spectralobject from scratch
      s = SPECTRALOBJECT(spectralobject) clones a spectralobject
      s = SPECTRALOBJECT(nfft, overlap, freqmax, dBlims)
            manually puts together a spectralobject object
 
      SPECTRALOBJECT - an existing spectral object
      NFFT - Fourier transform window               (default [1024])
      OVERLAP - how much of the window to overlap   (default [NFFT * 0.8])
      FREQMAX - how high a freq to display          (default [8])
      DBLIMS - dB range over which to display data  (default [50 100])
      SCALING - 's', 'm', 'h', 'date': x axis scale (default 's' (second))
      to get default value, use []</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/core/@correlation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>	SET Set properties for correlation object</li><li><a href="../../../GISMO/core/@drumplot/set.html" class="code" title="function h = set(h,varargin)">set</a>	SET: Set drumplot properties</li><li><a href="../../../GISMO/core/@filterobject/set.html" class="code" title="function f = set(f, varargin)">set</a>	SET - Set filterobject properties</li><li><a href="../../../GISMO/core/@rsam/load.html" class="code" title="function self = load(self)">load</a>	Purpose:</li><li><a href="../../../GISMO/core/@scnlobject/set.html" class="code" title="function scnl = set(scnl, varargin)">set</a>	SET - Set properties for scnlobject</li><li><a href="set.html" class="code" title="function s = set(s, varargin)">set</a>	SET - Set properties for spectralobject</li><li><a href="spectralobject.html" class="code" title="function s = spectralobject(anyV,overlap,freqmax,dBlims, scaling)">spectralobject</a>	SPECTRALOBJECT - spectralobject class constructor</li><li><a href="../../../GISMO/core/@threecomp/isempty.html" class="code" title="function TF = isempty(TC)">isempty</a>	ISEMPTY Display threecomp object</li><li><a href="../../../GISMO/core/@threecomp/set.html" class="code" title="function TC = set(TC, fieldName, val)">set</a>	SET inserts properties for threecomp object</li><li><a href="../../../GISMO/core/@waveform/isempty.html" class="code" title="function TF = isempty(w)">isempty</a>	ISEMPTY returns TRUE if waveform contains no data</li><li><a href="../../../GISMO/core/@waveform/set.html" class="code" title="function w = set(w, varargin)">set</a>	SET Set properties for waveform object(s)</li><li><a href="../../../GISMO/core/dev/@NewCorrelation/set.html" class="code" title="function c = set(c, prop_name, val)">set</a>	SET Set properties for correlation object</li><li><a href="../../../GISMO/deprecated/@helicorder/set.html" class="code" title="function h = set(h,varargin)">set</a>	SET: Set helicorder properties</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GISMO/applications/+iceweb/setup.html" class="code" title="function setup(subnet, snum, enum, setupfile, chanmatch)">setup</a>	</li><li><a href="../../../GISMO/applications/+iceweb/spectrogram_iceweb.html" class="code" title="function [result,Tcell,Fcell,Ycell] = spectrogram_iceweb(s, w, spectrogramFraction, mycolormap)">spectrogram_iceweb</a>	SPECTROGRAM_ICEWEB produce an multi-channel spectrogram plot in the style of</li><li><a href="../../../GISMO/applications/uispecgram.html" class="code" title="function varargout = uispecgram(varargin)">uispecgram</a>	UISPECGRAM M-file for uispecgram.fig</li><li><a href="loadobj.html" class="code" title="function a = loadobj(b)">loadobj</a>	LOADOBJ - handles updates to spectralobject</li><li><a href="spectralobject.html" class="code" title="function s = spectralobject(anyV,overlap,freqmax,dBlims, scaling)">spectralobject</a>	SPECTRALOBJECT - spectralobject class constructor</li><li><a href="../../../GISMO/core/@waveform/spectrogram.html" class="code" title="function spectrogram( w, s )">spectrogram</a>	SPECTROGRAM Plot an IceWeb-style spectrogram</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function load_global_namespace()</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function s = spectralobject(anyV,overlap,freqmax,dBlims, scaling)</a>
0002 <span class="comment">%SPECTRALOBJECT - spectralobject class constructor</span>
0003 <span class="comment">%      Ways to call...</span>
0004 <span class="comment">%      s = SPECTRALOBJECT() creates a spectralobject from scratch</span>
0005 <span class="comment">%      s = SPECTRALOBJECT(spectralobject) clones a spectralobject</span>
0006 <span class="comment">%      s = SPECTRALOBJECT(nfft, overlap, freqmax, dBlims)</span>
0007 <span class="comment">%            manually puts together a spectralobject object</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%      SPECTRALOBJECT - an existing spectral object</span>
0010 <span class="comment">%      NFFT - Fourier transform window               (default [1024])</span>
0011 <span class="comment">%      OVERLAP - how much of the window to overlap   (default [NFFT * 0.8])</span>
0012 <span class="comment">%      FREQMAX - how high a freq to display          (default [8])</span>
0013 <span class="comment">%      DBLIMS - dB range over which to display data  (default [50 100])</span>
0014 <span class="comment">%      SCALING - 's', 'm', 'h', 'date': x axis scale (default 's' (second))</span>
0015 <span class="comment">%      to get default value, use []</span>
0016 
0017 <span class="comment">% VERSION: 1.1 of spectralobject</span>
0018 <span class="comment">% AUTHOR: Celso Reyes (celso@gi.alaska.edu)</span>
0019 <span class="comment">% LASTUPDATE: 5/29/2007</span>
0020 
0021 <a href="#_sub1" class="code" title="subfunction load_global_namespace()">load_global_namespace</a>;
0022 
0023 Default_lims = [50 100];
0024 
0025 <span class="keyword">switch</span> nargin
0026     <span class="keyword">case</span> 0
0027         <span class="comment">%create a fresh spectralobject</span>
0028         s.nfft = 1024;
0029         s.over = s.nfft * 0.8;
0030         s.freqmax = 8; <span class="comment">%</span>
0031         s.dBlims = Default_lims;
0032         s.scaling = <span class="string">'s'</span>;
0033         s = class(s, <span class="string">'spectralobject'</span>);
0034     <span class="keyword">case</span> 1
0035         <span class="keyword">if</span> isa(anyV, <span class="string">'spectralobject'</span>)
0036             s = anyV;
0037         <span class="keyword">end</span>
0038     <span class="keyword">case</span> {4,5}
0039         <span class="comment">% Building a spectralobject from input peices</span>
0040 
0041         s = <a href="spectralobject.html" class="code" title="function s = spectralobject(anyV,overlap,freqmax,dBlims, scaling)">spectralobject</a>; <span class="comment">%create a default spectralobject</span>
0042         
0043         <span class="keyword">if</span> ~<a href="../../../GISMO/core/@threecomp/isempty.html" class="code" title="function TF = isempty(TC)">isempty</a>(anyV)
0044             s = <a href="set.html" class="code" title="function s = set(s, varargin)">set</a>(s,<span class="string">'nfft'</span>,anyV);
0045         <span class="keyword">end</span>
0046         
0047         <span class="keyword">if</span> ~<a href="../../../GISMO/core/@threecomp/isempty.html" class="code" title="function TF = isempty(TC)">isempty</a>(overlap)
0048             s = <a href="set.html" class="code" title="function s = set(s, varargin)">set</a>(s,<span class="string">'overlap'</span>,overlap);
0049         <span class="keyword">end</span>
0050         
0051         <span class="keyword">if</span> ~<a href="../../../GISMO/core/@threecomp/isempty.html" class="code" title="function TF = isempty(TC)">isempty</a>(freqmax)
0052             s = <a href="set.html" class="code" title="function s = set(s, varargin)">set</a>(s,<span class="string">'freqmax'</span>,freqmax);
0053         <span class="keyword">end</span>
0054         
0055         <span class="keyword">if</span> ~<a href="../../../GISMO/core/@threecomp/isempty.html" class="code" title="function TF = isempty(TC)">isempty</a>(dBlims)
0056             s = <a href="set.html" class="code" title="function s = set(s, varargin)">set</a>(s,<span class="string">'dblims'</span>,dBlims);
0057         <span class="keyword">else</span>
0058             s.dBlims = [];
0059         <span class="keyword">end</span>
0060         
0061         <span class="keyword">if</span> exist(<span class="string">'scaling'</span>,<span class="string">'var'</span>)
0062             s = <a href="set.html" class="code" title="function s = set(s, varargin)">set</a>(s,<span class="string">'scaling'</span>,scaling);
0063         <span class="keyword">end</span>
0064         
0065     <span class="keyword">otherwise</span>
0066         error(<span class="string">'Invalid arguments in spectralobject constructor'</span>);
0067 <span class="keyword">end</span>;
0068 
0069 
0070 
0071 <span class="comment">%% LOAD spectralobject's global_namespace</span>
0072 
0073 <a name="_sub1" href="#_subfunctions" class="code">function load_global_namespace()</a>
0074 
0075 <span class="keyword">persistent</span> SPECTRALOBJECT_NAMESPACE
0076 
0077 <span class="keyword">if</span> SPECTRALOBJECT_NAMESPACE
0078     <span class="keyword">return</span>
0079 <span class="keyword">else</span>
0080     SPECTRALOBJECT_NAMESPACE = true;
0081 <span class="keyword">end</span>
0082 
0083 <span class="keyword">global</span> SPECTRAL_MAP
0084 <span class="comment">% The spectral plotting routines use the color scheme defined in</span>
0085 <span class="comment">% a variable SPECTRAL_MAP.  This variable is saved (ascii style)</span>
0086 <span class="comment">% in a file called &quot;spectral.map&quot;, accessable from your work directory.</span>
0087 <span class="comment">%</span>
0088 <span class="comment">% If this file doesn't exist, it will generate the internal map as</span>
0089 <span class="comment">% defined below.</span>
0090 
0091 <span class="keyword">if</span> exist(<span class="string">'spectral.map'</span>,<span class="string">'file'</span>)
0092     SPECTRAL_MAP = <a href="../../../GISMO/core/@rsam/load.html" class="code" title="function self = load(self)">load</a>(<span class="string">'spectral.map'</span>,<span class="string">'-ascii'</span>);
0093 <span class="keyword">else</span>
0094     <span class="comment">% P.S.  this used to be &quot;jackie.map&quot;</span>
0095     SPECTRAL_MAP =[0         0    0.5625
0096         0         0    0.6250
0097         0         0    0.6875
0098         0         0    0.7500
0099         0         0    0.8125
0100         0         0    0.8750
0101         0         0    0.9375
0102         0         0    1.0000
0103         0    0.0625    1.0000
0104         0    0.1250    1.0000
0105         0    0.1875    1.0000
0106         0    0.2500    1.0000
0107         0    0.3125    1.0000
0108         0    0.3750    1.0000
0109         0    0.4375    1.0000
0110         0    0.5000    1.0000
0111         0    0.5625    1.0000
0112         0    0.6250    1.0000
0113         0    0.6875    1.0000
0114         0    0.7500    1.0000
0115         0    0.8125    1.0000
0116         0    0.8750    1.0000
0117         0    0.9375    1.0000
0118         0    1.0000    1.0000
0119         0.0625    1.0000    1.0000
0120         0.1250    1.0000    0.9375
0121         0.1875    1.0000    0.8750
0122         0.2500    1.0000    0.8125
0123         0.3125    1.0000    0.7500
0124         0.3750    1.0000    0.6875
0125         0.4375    1.0000    0.6250
0126         0.5000    1.0000    0.5625
0127         0.5625    1.0000    0.5000
0128         0.6250    1.0000    0.4375
0129         0.6875    1.0000    0.3750
0130         0.7500    1.0000    0.3125
0131         0.8125    1.0000    0.2500
0132         0.8750    1.0000    0.1875
0133         0.9375    1.0000    0.1250
0134         1.0000    1.0000         0
0135         1.0000    0.9375         0
0136         1.0000    0.8750         0
0137         1.0000    0.8125         0
0138         1.0000    0.7500         0
0139         1.0000    0.6875         0
0140         1.0000    0.6250         0
0141         1.0000    0.5625         0
0142         1.0000    0.5000         0
0143         1.0000    0.3750         0
0144         1.0000    0.2500         0
0145         1.0000    0.1250         0
0146         1.0000         0         0
0147         0.9375         0    0.6375
0148         0.9375    0.1500    0.9375
0149         1.0000    0.8000    1.0000];
0150 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 12-Oct-2016 17:36:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>