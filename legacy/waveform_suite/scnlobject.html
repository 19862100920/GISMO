<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 					"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="description" content="An introduction to the scnlobject (station-channel-network-location) for MATLAB." /><meta name="keywords" content="waveform suite, MATLAB, guide, seismology, tutorial, scnlobject class" /><title>Waveform Suite for Matlab: Working with the Scnlobject Class</title><link type="text/css" rel="stylesheet" href="wavesuite.css"/></head><body><div id="allcontent">  <a name="top"/><div id="header">    <p><img id = "photo" src="images/lilwave.gif" alt="waveform icon" /></p><a name="define"/><h1>The <em>SCNLobject</em> class</h1><p>Scnlobjects label the "where" associated with data and provide querying functions based on this.</p></div><div id="main"><p>The scnlobject class is the most basic waveform suite class.  The scnlobject class was added to the wavform suite in spring 2009 to handle the labeling of data. It contains the station, channel, network, and location names associated  with the time-series data.  Scnlobjects play a critical role in being able to  query for the data recorded at various locations.</p><p>Not all of these labels apply to all collections of data -- as of this writing, rarely does anyone ever use the "location" field.  The use of these four lables, however, brings waveform in line with SEED and Winston conventions.</p><p>There are three main advantages to using scnlobjects:</p><ul><li>scnlobjects are easily combined</li><li>commonly accessed station-channel-network-locations can be stored for automatic retrieval</li><li>scnlobjects are easily compared</li></ul><a name="create"></a><h2>Creating a scnlobject </h2><p>An array of one or more scnlobjects will be returned by a scnlobject, depending upon the input values.  Each scnlobject represents a single station-channel-network-location combination. Providing a cell array of possible stations with a single channel will create one scnlobject for each station, all of which will have the same channel.  Likewise, providing a single station, along with multiple channels will generate a series of scnlobjects forthat station, each with that channel.  Finally, providing cell arrays of equal lengths for the stations and channels  will generate an array of scnlobjects where each station is paired with the corresponding channel.</p><dl class="functions"><dt>scnl = scnlobject(station, channel [, network[, location]])</dt><dd>Create a scnlobject.  stations and channels may be cell arrays, so that multiplescnlobjects are created simultaniously. the network and location fields are optional.<ol class="specificexample">  <li>scnl = scnlobject('OKCF','EHZ','AV','1')<br/>  creates a single scnl for this station/channel combo.  In this case, a   network <i>AV</i> and a location <i>'1'</i> have been assigned as well.    The network and location parameters are optional, though.</li>  <li>scnl = scnlobject({'RED','REF'},'EHZ')<br/>  create multiple scnlobjects (1x2), one for each station, and assign the   same channel to all.  A single channel can be assigned to any number of stations.</li>  <li>scnl = scnlobject('OKCE',{'BHZ','BHE','BHN'})<br/>  Create an 1x3 scnlobject for station OKCE, with each channel represented.<br/>Any number of  channels can be assigned to a single station.</li>    <li>scnl = scnlobject({'OKCE','OKER','OKSO'},{'BHZ','EHZ','BHZ'})<br/>  Create an 1x3 scnlobject, assigning the station-channel pair to each one.<br/>  In this example the pairs become: OKCE:BHZ, OKER:EHZ, OKSO:BHZ.<br/>This works   for any number of station-channel pairs</li></ol></dd><dt>s = scnlobject()</dt><dd>create a default scnlobject. The station and channel will be blank, while the network and location will contain '--'.</dd></dl><h3>Using WILDCARDS in SCNLOBJECTS</h3><p>By entering an asterisk in any field (ie, set(scnl,'station','*'); ) that field is set to a wildcard and will not be used for any search criteria. One particularly useful application of the scnlobject wildcard is when querying adatafile for any /all data contained within it.</p><a name="access"></a><h2>Accessing</h2><p>To retrieve information from scnlobjects, use the <b>get</b> method. Validproperties to ask for are:<i>'station'</i>, <i>'channel'</i>, <i>'network'</i>,and <i>'location'</i>.</p><p><code>value = get(SCNLobject, 'PropertyToGet')</code></p><p>For a single scnlobject, the <b>get</b> method will return a string withthe requested property.  For multiple scnlobjects, get will return a cell arraywith the requested information.  </p><blockquote class="matlabsession"><p class="user">scnl = scnlobject('ABC','EHZ','AV','1');<br/>get(scnl,'station');</p><p class="computer">ans = </p><p class="computer">&nbsp;&nbsp;ABC</p><p class="user">scnl = scnlobject('ABC',{'BHZ','BHN','BHE'},'AV','1');<br/>get(scnl,'channel');</p><p class="computer">ans = </p><p class="computer">&nbsp;&nbsp;'BHZ'&nbsp;&nbsp;&nbsp;'BHN'&nbsp;&nbsp;&nbsp;'BHE'</p></blockquote><h2><a name="modify"></a>Making direct changes to your scnlobject</h2><p>Using set, you can change the values of your scnlobject.  The general form of set is:</p><p>modifiedSCNL = set(originalSCNL, 'PropertyToChange', newValue)</p><p>If <i>originalSCNL</i> contains an array of scnlobjects, then that property is changed for all scnls.  Remember, the originalSCNL is unchanged until the result is assigned to it.</p><a name="functions"></a><h2>Additional functions of note</h2><p>Here are additional functions to be aware of:</p><dl class="functions"><dt>uniquescnls = unique(scnlobjects)</dt><dd>Return an array of unique scnlobjects from a list.  That is, remove duplicate scnlobjects.</dd><dt>[tf loc]= ismember(object, scnlobjectlist)</dt><dd>returns true if that object (scnlobject or waveform) is a member of thescnlobject list.  wildcards in individual fields of the scnlobjectlist willmean that that particular field will not be used as a criterion.</dd></dl><p></p></div> <!-- main --><a name="examples"/><div id="examples"><h2>Examples</h2>  <ul>    <li><h4>Example 1: create a bunch of scnls</h4>    <p>A script creating commonly used scnls</p>	<blockquote class="filelisting">	<p class="comment">commonly used scnls: station_setup.m</p>	<p><span class="comment">short period stas for Augustine volcano</span><br/>	scnls.augustine = scnlobject({'AUE','AUP','AUI','AUW','AU13'},'EHZ','AV'); 	</p>	<p><span class="comment">short period stations for Okmok volcano</span><br/>	scnls.okmok.sp = scnlobject(...<br/>	&nbsp;&nbsp;{'OKCF','OKER','OKTU','OKRE','OKSP','OKWE','OKWR'},'EHZ','AV');</p>	<p><span class="comment">broadband stations for Okmok volcano</span><br/>	tmp = scnlobject({'OKSO','OKFG','OKCE'},'BHZ','AV');<br/>	scnls.okmok.bb = [tmp, set(tmp,'channel','BHN'), set(tmp,'channel','BHE')];</p>		<p class="comment">add a station with all sorts of data channels</p>	<p>	scnls.superstation=scnlobject('CGR1',{'BHZ','BHE','BHN','LHZ','BDF'},'AV');	</p>	</blockquote>	<p> and here's an example matlab session that uses scnls...</p>	<blockquote class="matlabsession">	<p class="user">load('station_setup.m');<br/>	<span class="aside">- the variables scnl and tmp are loaded into matlab</span></p>	<p class="user">ds = datasource('file',...<br/>	'C:/mydatafiles/%04d/%s%03d.mat','year','station','jday')	<span class="comment">working with existing waveforms, stored locally in 	.mat files</span><br/>	<span class="aside">- notice the filename depends on the station, year and 	julian day.  The datasource declaration, too, could have been loaded from 	a script </span></p>	<p class="computer">ds = <br/>type: FILE<br/>	location: C:/mydatafile/[YEAR]/[STATION][JDAY].mat</p>	<p class="user">w = waveform(ds,scnls.augustine,'2/5/2009','2/6/2009')	<span class="comment">load Augustine waves</span><br/></p>	<p class="computer"> w =  1 x 5 wavform object <br/><span class="aside">--details of waveform displayed here--</span></p>	<p class="user">stanums = 1:25;<span class="comment">we'll load 25 stations that have numerical names</span><br/>	<span class="user">stanames = strcat('STA',num2str(stanums,'%02d'));</span>	<span class="comment">change numbers into names like "STA03"</span><br/>	<span class="user">scnl = scnlobject(stanames,'LL');</span>	<span class="comment">create 1x25 station/channel list</span><br/>	<span class="user">w = waveform(ds,scnl,'2/5/2009 02:00', 2/9/2009 14:00)</span>	<span class="comment">load all stations for this 4.5-day period</span><br/></p>	<p class="computer"> w =  1 x 25 wavform object <br/><span class="aside">--details of waveform displayed here--</span></p>	</blockquote>    </li>  </ul><hr/><p>Please send feedback to: <i> celso &lt;at&gt; gi &lt;dot&gt; alaska &lt;dot&gt; edu </i></p></div> <!-- examples -->  <div id="navigation">  <p><span class="suite_title">Waveform Suite</span><br/> for MATLAB</p><p>    <a href="download.html"><b>download</b></a></p><hr/>	<p>	<a href="waveform.html">waveform</a></p>	<div class="here">	<p><a href="scnlobject.html"><b>scnlobject</b></a></p>		<ul><li><a href="#define">Definition</a></li>	<li><a href="#create">Creating</a></li>	<li><a href="#access">Accessing</a></li>	<li><a href="#modify">Modifying</a></li>	<li><a href="#functions">Functions</a></li>	<li><a href="#examples">Examples</a></li></ul>	</div>	<p>	<a href="datasource.html">datasource</a><br/>	<a href="filterobject.html">filterobject </a><br/>	<a href="spectralobject.html">spectralobject</a></p>	<hr/>	<p><a href="../feline_example/tutorial_and_code_frameset.htm">object tutorial</a></p>		<hr/><p> <a href="waveform_suite_example_index.html">Waveform Suite Examples</a>  </p><hr/>  <p><a href="../../index.html">Celso's homepage</a></p>   <!-- CSS & XHTML validation approval --><p>    <a href="http://validator.w3.org/check?uri=referer"><img        src="http://www.w3.org/Icons/valid-xhtml10-blue"        alt="Valid XHTML 1.0 Transitional" height="31" width="88" /></a>  </p>  <p><a href="http://jigsaw.w3.org/css-validator/check/referer">    <img style="border:0;width:88px;height:31px"        src="http://jigsaw.w3.org/css-validator/images/vcss-blue"        alt="Valid CSS!" /></a></p>  </div> <!-- navigation -->  </div> <!-- allcontent -->  <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-8415966-1");pageTracker._trackPageview();} catch(err) {}</script></body></html>